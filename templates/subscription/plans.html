{% extends "base.html" %}

{% block title %}Subscription Plans - Lerzo{% endblock %}

{% block content %}
<style>
    .save-badge {
        position: absolute;
        top: -10px;
        right: 15px;
        z-index: 10;
        font-size: 0.85rem;
        font-weight: 600;
    }
    .card {
        position: relative;
        overflow: visible;
    }
    .card-header {
        position: relative;
        overflow: visible;
    }
    .yearly-plan {
        position: relative;
    }
    .yearly-plan::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(45deg, rgba(25, 135, 84, 0.1), rgba(25, 135, 84, 0.05));
        pointer-events: none;
        border-radius: 0.375rem;
    }
</style>

<div class="container-fluid py-5">
    <div class="text-center mb-5">
        <h2><i class="fas fa-crown me-2"></i>Choose Your Subscription Plan</h2>
        <p class="text-muted">Select the perfect plan for your coaching centre</p>
    </div>
    
    <div class="row justify-content-center">
        <!-- Monthly Plan -->
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="card h-100 shadow">
                <div class="card-header text-center bg-primary text-white">
                    <h4 class="card-title mb-0">Monthly Plan</h4>
                </div>
                <div class="card-body text-center">
                    <div class="mb-4">
                        <span class="display-4 fw-bold">₹699</span>
                        <span class="text-muted">/month</span>
                    </div>
                    
                    <ul class="list-unstyled mb-4">
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Unlimited Students
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Unlimited Enquiries
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Fee Management
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Data Export (Excel/PDF)
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Custom Logo Upload
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Course & Scheme Management
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Monthly Billing
                        </li>
                    </ul>
                </div>
                <div class="card-footer text-center">
                    <a href="{{ url_for('subscription_payment', plan='monthly') }}" class="btn btn-primary btn-lg w-100">
                        <i class="fas fa-credit-card me-2"></i>Choose Monthly
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Yearly Plan -->
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="card h-100 shadow border-success yearly-plan">
                <span class="badge bg-warning text-dark save-badge">
                    <i class="fas fa-star me-1"></i>Save 17%
                </span>
                <div class="card-header text-center bg-success text-white">
                    <h4 class="card-title mb-0 mt-2">Yearly Plan</h4>
                    <small class="text-light opacity-75">Most Popular</small>
                </div>
                <div class="card-body text-center">
                    <div class="mb-4">
                        <span class="display-4 fw-bold">₹6,999</span>
                        <span class="text-muted">/year</span>
                        <br>
                        <small class="text-success">
                            <del class="text-muted">₹8,388</del> Save ₹1,389
                        </small>
                    </div>
                    
                    <ul class="list-unstyled mb-4">
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Unlimited Students
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Unlimited Enquiries
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Fee Management
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Data Export (Excel/PDF)
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Custom Logo Upload
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Course & Scheme Management
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Priority Support
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-star text-warning me-2"></i>
                            <strong>2 Months FREE!</strong>
                        </li>
                    </ul>
                </div>
                <div class="card-footer text-center">
                    <a href="{{ url_for('subscription_payment', plan='yearly') }}" class="btn btn-success btn-lg w-100">
                        <i class="fas fa-credit-card me-2"></i>Choose Yearly
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Current Subscription Status -->
    {% if current_user.is_authenticated %}
    <div class="row justify-content-center mt-5">
        <div class="col-lg-6">
            <div class="card">
                <div class="card-header text-center">
                    <h5 class="card-title mb-0">Current Subscription Status</h5>
                </div>
                <div class="card-body text-center">
                    <h4 class="mb-3">{{ current_user.get_subscription_status() }}</h4>
                    
                    {% if current_user.subscription_type == 'trial' %}
                        <p class="text-muted">
                            Your trial expires on {{ current_user.trial_end_date.strftime('%d %B %Y') }}
                        </p>
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle me-2"></i>
                            Choose a plan below to continue using all features after your trial ends.
                        </div>
                    {% elif current_user.subscription_end_date %}
                        <p class="text-muted">
                            Your subscription renews on {{ current_user.subscription_end_date.strftime('%d %B %Y') }}
                        </p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    {% endif %}
    
    <!-- Features Comparison -->
    <div class="row justify-content-center mt-5">
        <div class="col-lg-8">
            <div class="card">
                <div class="card-header text-center">
                    <h5 class="card-title mb-0">Why Choose Our Lerzo?</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <ul class="list-unstyled">
                                <li class="mb-2">
                                    <i class="fas fa-shield-alt text-primary me-2"></i>
                                    Secure & Reliable
                                </li>
                                <li class="mb-2">
                                    <i class="fas fa-mobile-alt text-primary me-2"></i>
                                    Mobile Responsive
                                </li>
                                <li class="mb-2">
                                    <i class="fas fa-cloud text-primary me-2"></i>
                                    Cloud-based Access
                                </li>
                                <li class="mb-2">
                                    <i class="fas fa-headset text-primary me-2"></i>
                                    24/7 Support
                                </li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <ul class="list-unstyled">
                                <li class="mb-2">
                                    <i class="fas fa-sync text-primary me-2"></i>
                                    Regular Updates
                                </li>
                                <li class="mb-2">
                                    <i class="fas fa-save text-primary me-2"></i>
                                    Data Backup
                                </li>
                                <li class="mb-2">
                                    <i class="fas fa-chart-line text-primary me-2"></i>
                                    Analytics & Reports
                                </li>
                                <li class="mb-2">
                                    <i class="fas fa-lock text-primary me-2"></i>
                                    Data Privacy
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}